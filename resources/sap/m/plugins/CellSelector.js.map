{"version":3,"file":"CellSelector.js","names":["sap","ui","define","PluginBase","KeyCodes","Core","Element","Log","DIRECTION","ROW","COL","CellSelector","extend","metadata","library","properties","rangeLimit","type","group","defaultValue","events","prototype","isApplicable","this","getControl","getDragDropConfig","length","isA","some","oConfig","getSourceAggregation","getConfig","onActivate","oControl","addDelegate","_oSession","cellRefs","_mTimeouts","_fnControlUpdate","oEvent","_bScrolling","_scrollSelect","scrollForward","isVertical","_selectCells","bind","_fnOnMouseEnter","_onmouseenter","_fnOnMouseOut","_onmouseout","_fnOnMouseMove","_onmousemove","_fnOnMouseUp","onmouseup","_registerEvents","onDeactivate","removeDelegate","removeSelection","_deregisterEvents","destroy","isDestroyed","call","onBeforeRendering","_iRtl","getConfiguration","getRTL","_oResizer","remove","onAfterRendering","attachEvent","oScrollArea","getDomRef","addEventListener","document","detachEvent","removeEventListener","getSelectionRange","_bSelecting","mSelectionRange","_getNormalizedBounds","mSource","mTarget","isNaN","from","rowIndex","to","iMaxColumnIndex","colIndex","Math","max","min","getSelectedRowContexts","getRangeLimit","onsapspace","_startSelection","onsapupmodifiers","_onsaparrowmodifiers","onsapdownmodifiers","onsapleftmodifiers","onsaprightmodifiers","sDirectionType","iRowDiff","iColDiff","isMarked","shiftKey","oSelectableCell","_getSelectableCell","target","oInfo","_inSelection","mBounds","focus","_getUpdatedBounds","preventDefault","setMarked","onsaphomemodifiers","onsapendmodifiers","onkeydown","isKeyCombination","A","onkeyup","undefined","SPACE","Infinity","onmousedown","ctrlKey","metaKey","_bMouseDown","_mClickedCell","_updateResizers","clientX","clientY","window","getSelection","removeAllRanges","_bBorderDown","oBorder","border","mDiff","oScrollAreaRef","oScrollAreaRect","getBoundingClientRect","bForward","bVertical","bottom","top","right","left","_doScroll","_clearScroller","scrollTimerId","setTimeout","row","col","sType","mOldFocus","clearTimeout","_onborderdown","Object","assign","_oCurrentBorder","oDomRef","closest","oTarget","oBounds","bMove","oCellInfo","mStart","mFocus","sAdjustRowType","sAdjustColType","mFrom","mTo","_clearSelection","_drawSelection","iRow","iCol","oCellRef","classList","toggle","setAttribute","push","oPrevCellRef","sClass","iPositionX","iPositionY","oResizer","_getResizer","iFromColIndex","oFromRef","oToRef","mOutOfBounds","oFromRect","oToRect","oTableRect","iOffsetLeft","offsetLeft","mStyleMap","x","width","y","height","mDiffMap","mFlags","abs","iDiffX","iDiffY","style","bXinRange","bYinRange","createElement","add","appendChild","forEach","removeAttribute","bKeepBounds","iMaxColumns","iMaxRows","toRowIndex","toColIndex","sKeyCode","bShift","bCtrl","keyCode","setConfigs","selectableCells","scrollArea","scrollEvent","oTable","hasListeners","getSelectionBehavior","getVisibleColumns","getColumns","filter","oColumn","getRowCount","_getTotalRowCount","getCellRef","mPosition","bRange","aRows","getRows","oRow","find","getIndex","oCell","getCells","$","getCellInfo","closestTo","indexOf","byId","getAttribute","loadContexts","iStartIndex","iLength","oBinding","getBinding","getContexts","rowContexts","iFromIndex","iToIndex","iLimit","iMaxIndex","getAllCurrentContexts","aContexts","i","getContextByIndex","selectRows","iFrom","iTo","iFocus","oSelectionOwner","getPlugin","sSelectionMode","getSelectionMode","addSelectionInterval","setSelected","focusCell","scroll","iFirstVisibleRowIndex","getFirstVisibleRow","iIndex","setFirstVisibleRow","Promise","resolve","oScrollBar","_getScrollExtension","getHorizontalScrollbar","iScrollDiff","pow","scrollLeft"],"sources":["CellSelector-dbg.js"],"mappings":";;;;;AAKAA,IAAIC,GAAGC,OAAO,CACb,eACA,yBACA,mBACA,sBACA,gBACE,SAAUC,EAAYC,EAAUC,EAAMC,EAASC,GACjD,aAEA,IAAIC,EAAY,CACfC,IAAK,MACLC,IAAK,OAgCN,IAAIC,EAAeR,EAAWS,OAAO,6BAA8B,CAClEC,SAAU,CACTC,QAAS,QACTC,WAAY,CAcXC,WAAY,CAACC,KAAM,MAAOC,MAAO,WAAYC,aAAc,MAE5DC,OAAQ,CAAC,KAmBXT,EAAaU,UAAUC,aAAe,WACrC,GAAIC,KAAKC,aAAaC,oBAAoBC,OAAS,IAC9CH,KAAKC,aAAaG,IAAI,sBAAuB,CACjD,OAAQJ,KAAKC,aACXC,oBACAG,KAAMC,GAAYA,EAAQC,wBAA0BP,KAAKQ,UAAU,uBACtE,CAEA,OAAOR,KAAKQ,UAAU,eAAgBR,KAAKC,aAC5C,EAEAb,EAAaU,UAAUW,WAAa,SAAUC,GAC7CA,EAASC,YAAYX,KAAM,KAAMA,MACjCA,KAAKY,UAAY,CAAEC,SAAU,IAC7Bb,KAAKc,WAAa,CAAC,EACnBd,KAAKe,iBAAmB,SAASC,GAChC,GAAIhB,KAAKiB,YAAa,CACrBjB,KAAKkB,cAAclB,KAAKY,UAAUO,cAAenB,KAAKY,UAAUQ,WAAYJ,EAC7E,KAAO,CACNhB,KAAKqB,cACN,CACD,EAAEC,KAAKtB,MACPA,KAAKuB,gBAAkBvB,KAAKwB,cAAcF,KAAKtB,MAC/CA,KAAKyB,cAAgBzB,KAAK0B,YAAYJ,KAAKtB,MAC3CA,KAAK2B,eAAiB3B,KAAK4B,aAAaN,KAAKtB,MAC7CA,KAAK6B,aAAe7B,KAAK8B,UAAUR,KAAKtB,MAGxCA,KAAK+B,iBACN,EAEA3C,EAAaU,UAAUkC,aAAe,SAAUtB,GAC/CA,EAASuB,eAAejC,KAAMA,MAC9B,GAAIA,KAAKY,UAAW,CACnBZ,KAAKkC,kBACLlC,KAAKY,UAAY,KACjBZ,KAAKc,WAAa,IACnB,CAEAd,KAAKmC,mBACN,EAEA/C,EAAaU,UAAUsC,QAAU,WAChC,GAAIpC,KAAKC,eAAkBD,KAAKC,aAAaoC,eAAiBrC,KAAKY,UAAW,CAC7EZ,KAAKkC,iBACN,CACAlC,KAAKmC,oBACLnC,KAAKY,UAAY,KACjBZ,KAAKc,WAAa,KAElB,OAAOlC,EAAWkB,UAAUsC,QAAQE,KAAKtC,KAC1C,EAEAZ,EAAaU,UAAUyC,kBAAoB,WAC1CvC,KAAKwC,MAAQ1D,EAAK2D,mBAAmBC,UAAY,EAAI,EACrD,GAAI1C,KAAK2C,UAAW,CAEnB3C,KAAK2C,UAAUC,SACf5C,KAAK2C,UAAY,IAClB,CACD,EAEAvD,EAAaU,UAAU+C,iBAAmB,WACzC7C,KAAKmC,oBACLnC,KAAK+B,iBACN,EAEA3C,EAAaU,UAAUiC,gBAAkB,WACxC,GAAI/B,KAAKC,aAAc,CACtBD,KAAKC,aAAa6C,YAAY9C,KAAKQ,UAAU,eAAgBR,KAAKe,kBAClE,IAAIgC,EAAc/C,KAAKC,aAAa+C,UAAUhD,KAAKQ,UAAU,eAC7D,GAAIuC,EAAa,CAChBA,EAAYE,iBAAiB,aAAcjD,KAAKyB,eAChDsB,EAAYE,iBAAiB,aAAcjD,KAAKuB,gBACjD,CACD,CACA2B,SAASD,iBAAiB,YAAajD,KAAK2B,gBAC5CuB,SAASD,iBAAiB,UAAWjD,KAAK6B,aAC3C,EAEAzC,EAAaU,UAAUqC,kBAAoB,WAC1C,GAAInC,KAAKC,aAAc,CACtBD,KAAKC,aAAakD,YAAYnD,KAAKQ,UAAU,eAAgBR,KAAKe,kBAClE,IAAIgC,EAAc/C,KAAKC,aAAa+C,UAAUhD,KAAKQ,UAAU,eAC7D,GAAIuC,EAAa,CAChBA,EAAYK,oBAAoB,aAAcpD,KAAKyB,eACnDsB,EAAYK,oBAAoB,aAAcpD,KAAKuB,gBACpD,CACD,CACA2B,SAASE,oBAAoB,YAAapD,KAAK2B,gBAC/CuB,SAASE,oBAAoB,UAAWpD,KAAK6B,aAC9C,EAYAzC,EAAaU,UAAUuD,kBAAoB,WAC1C,IAAKrD,KAAKsD,YAAa,CACtB,OAAO,IACR,CAEA,IAAIC,EAAkBvD,KAAKwD,qBAAqBxD,KAAKY,UAAU6C,QAASzD,KAAKY,UAAU8C,QAAS,MAChG,GAAIC,MAAMJ,EAAgBK,KAAKC,WAAaF,MAAMJ,EAAgBO,GAAGD,UAAW,CAC/E,OAAO,IACR,CAEA,IAAIE,EAAkB/D,KAAKQ,UAAU,oBAAqBR,KAAKC,cAAcE,OAAS,EACtFoD,EAAgBK,KAAKI,SAAWC,KAAKC,IAAIX,EAAgBK,KAAKI,SAAU,GACxET,EAAgBO,GAAGE,SAAWC,KAAKE,IAAIZ,EAAgBO,GAAGE,SAAUD,GACpER,EAAgBK,KAAKC,SAAWI,KAAKC,IAAIX,EAAgBK,KAAKC,SAAU,GACxE,OAAON,CACR,EAWAnE,EAAaU,UAAUsE,uBAAyB,WAC/C,IAAIb,EAAkBvD,KAAKqD,oBAC3B,IAAKE,EAAiB,CACrB,MAAO,EACR,CAEA,OAAOvD,KAAKQ,UAAU,cAAeR,KAAKC,aAAcsD,EAAgBK,KAAKC,SAAUN,EAAgBO,GAAGD,SAAU7D,KAAKqE,gBAC1H,EAEAjF,EAAaU,UAAUwE,WAAa,SAAUtD,GAC7ChB,KAAKuE,gBAAgBvD,EAAQ,MAC9B,EAEA5B,EAAaU,UAAU0E,iBAAmB,SAASxD,GAClDhB,KAAKyE,qBAAqBzD,EAAQ/B,EAAUC,KAAM,EAAG,EACtD,EAEAE,EAAaU,UAAU4E,mBAAqB,SAAS1D,GACpDhB,KAAKyE,qBAAqBzD,EAAQ/B,EAAUC,IAAK,EAAG,EACrD,EAEAE,EAAaU,UAAU6E,mBAAqB,SAAS3D,GACpDhB,KAAKyE,qBAAqBzD,EAAQ/B,EAAUE,IAAK,GAAI,EACtD,EAEAC,EAAaU,UAAU8E,oBAAsB,SAAS5D,GACrDhB,KAAKyE,qBAAqBzD,EAAQ/B,EAAUE,IAAK,EAAG,EACrD,EAEAC,EAAaU,UAAU2E,qBAAuB,SAASzD,EAAQ6D,EAAgBC,EAAUC,GACxF,GAAI/D,EAAOgE,aAAehE,EAAOiE,SAAU,CAC1C,MACD,CAEA,IAAIC,EAAkBlF,KAAKmF,mBAAmBnE,EAAOoE,QACrD,IAAKF,EAAiB,CACrB,MACD,CAEA,IAAIG,EAAQrF,KAAKQ,UAAU,cAAeR,KAAKC,aAAciF,GAC7D,IAAKlF,KAAKsF,aAAatE,EAAOoE,UAAYpF,KAAKY,UAAU6C,UAAYzD,KAAKY,UAAU8C,QAAS,CAE5F1D,KAAKY,UAAU6C,QAAUzD,KAAKY,UAAU8C,QAAU2B,CACnD,CAEA,IAAIE,EAAUvF,KAAKwD,qBAAqBxD,KAAKY,UAAU6C,QAASzD,KAAKY,UAAU8C,SAC/E,MAAME,KAAEA,EAAIE,GAAEA,EAAE0B,MAAEA,GAAUxF,KAAKyF,kBAAkBX,EAAUC,EAAW/E,KAAKwC,MAAO6C,GAEpF,GAAIG,EAAMX,EAAiB,SAAW,GAAKW,EAAMxB,UAAYhE,KAAKQ,UAAU,oBAAqBR,KAAKC,cAAcE,OAAQ,CAC3H,MACD,CAEAH,KAAKQ,UAAU,YAAaR,KAAKC,aAAcuF,EAAOV,EAAW,GACjE,GAAID,GAAkB5F,EAAUC,MAAQmG,EAAMxB,UAAY0B,EAAQ3B,KAAKC,UAAYwB,EAAMxB,UAAY0B,EAAQzB,GAAGD,WAC5GgB,GAAkB5F,EAAUE,MAAQkG,EAAMrB,UAAYuB,EAAQ3B,KAAKI,UAAYqB,EAAMrB,UAAYuB,EAAQzB,GAAGE,UAAW,CAC1HhE,KAAKsD,YAAc,KACnBtD,KAAKqB,aAAauC,EAAME,GAExB9C,EAAO0E,iBACP1E,EAAO2E,YACP3E,EAAO2E,UAAU,+BAAgC,KAClD,CACD,EAGAvG,EAAaU,UAAU8F,mBAAqB,SAAU5E,GAAS,EAG/D5B,EAAaU,UAAU+F,kBAAoB,SAAU7E,GAAS,EAQ9D5B,EAAaU,UAAUgG,UAAY,SAAU9E,GAC5C,IAAKhB,KAAKsD,aAAetC,EAAOgE,WAAY,CAC3C,MACD,CAEA,GAAIe,EAAiB/E,EAAQnC,EAASmH,EAAG,KAAM,OAASD,EAAiB/E,EAAQnC,EAASmH,EAAG,MAAO,OAAQ,CAC3GhG,KAAKkC,iBACN,CAEAlB,EAAO0E,gBACR,EAQAtG,EAAaU,UAAUmG,QAAU,SAASjF,GACzC,GAAIA,EAAOgE,WAAY,CACtB,MACD,CAEA,IAAIO,EAAUvF,KAAKsD,YAActD,KAAKwD,qBAAqBxD,KAAKY,UAAU6C,QAASzD,KAAKY,UAAU8C,SAAWwC,UAC7G,GAAIH,EAAiB/E,EAAQnC,EAASsH,MAAO,KAAM,OAAQ,CAC1D,GAAInG,KAAKsF,aAAatE,EAAOoE,QAAS,CACrC,IAAIC,EAAQrF,KAAKQ,UAAU,cAAeR,KAAKC,aAAce,EAAOoE,QACpEpF,KAAKQ,UAAU,aAAcR,KAAKC,aAAcsF,EAAQ3B,KAAKC,SAAU0B,EAAQzB,GAAGD,SAAUwB,EAAMxB,WAAa7D,KAAKkC,kBACpHlB,EAAO2E,WACR,CACD,MAAO,GAAI3F,KAAKsD,aAAeyC,EAAiB/E,EAAQnC,EAASsH,MAAO,MAAO,MAAO,CACrF,IAAKnG,KAAKsF,aAAatE,EAAOoE,QAAS,CAEtC,IAAIC,EAAQrF,KAAKQ,UAAU,cAAeR,KAAKC,aAAce,EAAOoE,QACpEG,EAAQ3B,KAAKI,SAAWuB,EAAQzB,GAAGE,SAAWqB,EAAMrB,QACrD,CACAuB,EAAQ3B,KAAKC,SAAW,EACxB0B,EAAQzB,GAAGD,SAAWuC,SACtBpG,KAAKqB,aAAakE,EAAQ3B,KAAM2B,EAAQzB,GACzC,CAEA9C,EAAO0E,gBACR,EAIAtG,EAAaU,UAAUuG,YAAc,SAASrF,GAC7C,GAAIA,EAAOgE,UAAYhE,EAAOgE,WAAY,CACzC,MACD,CAEA,GAAIhE,EAAOsF,SAAWtF,EAAOuF,QAAS,CACrCvG,KAAKuE,gBAAgBvD,EACtB,CAEAhB,KAAKwG,YAAc,KACnB,IAAItB,EAAkBlF,KAAKmF,mBAAmBnE,EAAOoE,QACrD,GAAIF,EAAiB,CACpBlF,KAAKyG,cAAgBzG,KAAKQ,UAAU,cAAeR,KAAKC,aAAciF,EACvE,CACD,EASA9F,EAAaU,UAAU8B,aAAe,SAASZ,GAE9C,GAAIhB,KAAKsD,cAAgBtD,KAAKwG,YAAa,CAC1C,IAAIjB,EAAUvF,KAAKwD,qBAAqBxD,KAAKY,UAAU6C,QAASzD,KAAKY,UAAU8C,SAC/E1D,KAAK0G,gBAAgBnB,EAASvE,EAAO2F,QAAS3F,EAAO4F,QACtD,CAEA,IAAI1B,EAAkBlF,KAAKmF,mBAAmBnE,EAAOoE,QACrD,IAAKF,IAAoBlF,KAAKwG,YAAa,CAC1C,MACD,CAGA,IAAInB,EAAQrF,KAAKQ,UAAU,cAAeR,KAAKC,aAAciF,GAC7D,GAAIlF,KAAKyG,eACLpB,EAAMxB,UAAY7D,KAAKyG,cAAc5C,UACrCwB,EAAMrB,UAAYhE,KAAKyG,cAAczC,SAAU,CAClD,MACD,CAGA6C,OAAOC,eAAeC,kBAEtB,GAAI/G,KAAKgH,eAAiBhH,KAAKiB,YAAa,CAC3C,IAAIgG,EAAUjH,KAAKY,UAAUsG,OAC7B,IAAIC,EAAQ,CACXnD,SAAUL,MAAMsD,EAAQjD,UAAY,EAAIqB,EAAMrB,SAAWiD,EAAQjD,SACjEH,SAAUF,MAAMsD,EAAQpD,UAAY,EAAIwB,EAAMxB,SAAWoD,EAAQpD,UAGlE,GAAIsD,EAAMtD,UAAY,GAAKsD,EAAMnD,UAAY,EAAG,CAC/C,MAAMJ,KAAEA,EAAIE,GAAEA,GAAO9D,KAAKyF,kBAAkB0B,EAAMtD,SAAUsD,EAAMnD,SAAUiD,GAC5EjH,KAAKqB,aAAauC,EAAME,EACzB,CACD,KAAO,CACN9D,KAAKuE,gBAAgBvD,EAAQ,KAC9B,CACD,EAGA5B,EAAaU,UAAU4B,YAAc,SAASV,GAC7C,IAAIoG,EAAiBpH,KAAKC,aAAa+C,UAAUhD,KAAKQ,UAAU,eAEhE,IAAK4G,IAAmBpH,KAAKwG,YAAa,CAAE,MAAQ,CAEpD,IAAIa,EAAkBD,EAAeE,wBAErC,IAAIC,EAAUC,EACdxH,KAAKiB,YAAc,MACnB,GAAID,EAAO4F,QAAUS,EAAgBI,QAAUzG,EAAO4F,QAAUS,EAAgBK,IAAK,CACpF1H,KAAKY,UAAUO,cAAgBoG,EAAWvG,EAAO4F,QAAUS,EAAgBI,OAC3EzH,KAAKY,UAAUQ,WAAaoG,EAAY,KACxCxH,KAAKiB,YAAc,IACpB,CAEA,GAAID,EAAO2F,QAAUU,EAAgBM,OAAS3G,EAAO2F,QAAUU,EAAgBO,KAAM,CACpF5H,KAAKY,UAAUO,cAAgBoG,EAAWvG,EAAO2F,QAAUU,EAAgBM,MAC3E3H,KAAKY,UAAUQ,WAAaoG,EAAY,MACxCxH,KAAKiB,YAAc,IACpB,CAEA,GAAIjB,KAAKiB,YAAa,CACrBjB,KAAK6H,UAAUN,EAAUC,EAAWxG,EACrC,CACD,EAEA5B,EAAaU,UAAU0B,cAAgB,SAASR,GAC/ChB,KAAKiB,YAAc,MACnBjB,KAAK8H,gBACN,EAEA1I,EAAaU,UAAU+H,UAAY,SAASN,EAAUC,EAAWxG,GAChEhB,KAAK8H,iBACL,GAAI9H,KAAKiB,YAAa,CACrBjB,KAAKQ,UAAU,SAAUR,KAAKC,aAAcsH,EAAUC,GACtDxH,KAAKc,WAAWiH,cAAgBC,WAAWhI,KAAK6H,UAAUvG,KAAKtB,KAAMuH,EAAUC,GAAY,KAG3F,IAAKA,EAAW,CACfxH,KAAKkB,cAAcqG,EAAUC,EAAWxG,EACzC,CACD,CACD,EAEA5B,EAAaU,UAAUoB,cAAgB,SAASqG,EAAUC,EAAWxG,GACpE,IAAKhB,KAAKsD,YAAa,CACtB,MACD,CACA,IAAIiC,EAAUvF,KAAKwD,qBAAqBxD,KAAKY,UAAU6C,QAASzD,KAAKY,UAAU8C,SAC/E,GAAI1D,KAAKiB,YAAa,CACrB,IAAI4D,EAAiB2C,EAAYvI,EAAUC,IAAMD,EAAUE,IAC3D,IAAIgI,EAAQ,CAAEc,IAAO,EAAGC,IAAO,GAC/B,IAAIC,EAAQZ,EAAW,KAAO,OAE9BJ,EAAMtC,GAAkB0C,EAAW,GAAK,EACxC,IAAIa,EAAY7C,EAAQ4C,GACxB,GAAInI,KAAKgH,aAAc,CACtBoB,EAAYpI,KAAKY,UAAUsG,MAC5B,CACA,MAAMtD,KAAEA,EAAIE,GAAEA,GAAO9D,KAAKyF,kBAAkB0B,EAAMlI,EAAUC,KAAMiI,EAAMlI,EAAUE,KAAMiJ,GACxFpI,KAAKqB,aAAauC,EAAME,EACzB,CACD,EAEA1E,EAAaU,UAAUgI,eAAiB,WACvC,GAAI9H,KAAKc,WAAWiH,cAAe,CAClClB,OAAOwB,aAAarI,KAAKc,WAAWiH,eACpC/H,KAAKc,WAAWiH,cAAgB,IACjC,CACD,EAEA3I,EAAaU,UAAUgC,UAAY,SAASd,GAC3ChB,KAAKwG,YAAc,MACnBxG,KAAKgH,aAAe,MACpBhH,KAAKyG,cAAgBP,UACrBlG,KAAKiB,YAAc,MACnBjB,KAAK8H,gBACN,EAEA1I,EAAaU,UAAUwI,cAAgB,SAAStH,GAC/ChB,KAAKY,UAAUsG,OAASqB,OAAOC,OAAO,CAAC,EAAGxI,KAAKyI,iBAC/CzI,KAAKgH,aAAe,KACpBhH,KAAKwG,YAAc,IAEpB,EAOCpH,EAAaU,UAAUqF,mBAAqB,SAAUuD,GACtD,OAAOA,GAAWA,EAAQC,QAAQ3I,KAAKQ,UAAU,mBAClD,EAEApB,EAAaU,UAAUwF,aAAe,SAASsD,GAC9C,IAAIvD,EAAQrF,KAAKQ,UAAU,cAAeR,KAAKC,aAAc2I,GAC7D,IAAKvD,IAAUrF,KAAKY,UAAU6C,UAAYzD,KAAKY,UAAU8C,QAAS,CACjE,OAAO,KACR,CAEA,IAAImF,EAAU7I,KAAKwD,qBAAqBxD,KAAKY,UAAU6C,QAASzD,KAAKY,UAAU8C,SAE/E,QAAS2B,EAAMxB,SAAWgF,EAAQjF,KAAKC,UAAYwB,EAAMxB,SAAWgF,EAAQ/E,GAAGD,UAC3EwB,EAAMrB,SAAW6E,EAAQjF,KAAKI,UAAYqB,EAAMrB,SAAW6E,EAAQ/E,GAAGE,SAC3E,EAEA5E,EAAaU,UAAUyE,gBAAkB,SAASvD,EAAQ8H,GACzD,GAAI9H,EAAOgE,UAAYhE,EAAOgE,WAAY,CACzC,MACD,CAEA,IAAI4D,EAAU5I,KAAKmF,mBAAmBnE,EAAOoE,QAC7C,IAAKwD,EAAS,CACb,MACD,CAEA,GAAI5I,KAAKsF,aAAasD,KAAaE,EAAO,CACzC9I,KAAKkC,iBACN,KAAO,CACN,IAAI6G,EAAY/I,KAAKQ,UAAU,cAAeR,KAAKC,aAAc2I,GACjE,IAAII,EAAShJ,KAAKyG,cAAgBzG,KAAKyG,cAAgBsC,EAEvD/I,KAAKsD,YAAc,KACnBtD,KAAKY,UAAU6C,QAAUsF,EACzB/I,KAAKqB,aAAa2H,EAAQD,GAC1B/I,KAAKQ,UAAU,YAAaR,KAAKC,aAAc8I,EAChD,CAEA/H,EAAO0E,iBACP1E,EAAO2E,WAAa3E,EAAO2E,WAC5B,EAMAvG,EAAaU,UAAU2F,kBAAoB,SAASX,EAAUC,EAAUqD,GACvE,IAAI7C,EAAUvF,KAAKwD,qBAAqBxD,KAAKY,UAAU6C,QAASzD,KAAKY,UAAU8C,SAC/E,IAAIuF,EAASV,OAAOC,OAAO,CAAC,EAAGJ,GAG/B,IAAIc,EAAiBD,EAAOpF,UAAY0B,EAAQ3B,KAAKC,SAAW,OAAS,KACzE,IAAIsF,EAAiBF,EAAOjF,UAAYuB,EAAQ3B,KAAKI,SAAW,OAAS,KAEzEuB,EAAQ2D,GAAgBrF,UAAYiB,EACpCS,EAAQ4D,GAAgBnF,UAAYe,EAEpC,IAAK/E,KAAKgH,aAAc,CACvBiC,EAAOpF,SAAWI,KAAKC,IAAI,EAAG+E,EAAOpF,SAAWiB,GAChDmE,EAAOjF,SAAWC,KAAKC,IAAI,EAAG+E,EAAOjF,SAAWe,EACjD,KAAO,CACN/E,KAAKY,UAAUsG,OAAOrD,UAAYiB,EAClC9E,KAAKY,UAAUsG,OAAOlD,UAAYe,CACnC,CAEA,MAAO,CACNnB,KAAM2B,EAAQ3B,KACdE,GAAIyB,EAAQzB,GACZ0B,MAAOyD,EAET,EAkBA7J,EAAaU,UAAUuB,aAAe,SAAU+H,EAAOC,EAAKJ,GAC3D,IAAKjJ,KAAKsD,YAAa,CACtB,MACD,CAEAtD,KAAKsJ,kBAELF,EAAQA,EAAQA,EAAQpJ,KAAKY,UAAU6C,QACvC4F,EAAMA,EAAMA,EAAMrJ,KAAKY,UAAU8C,QACjC,IAAI6B,EAAUvF,KAAKwD,qBAAqB4F,EAAOC,GAE/C,GAAIA,EAAIxF,UAAYuC,UAAYgD,EAAMvF,UAAYuC,SAAU,CAC3DpG,KAAKQ,UAAU,eAAgBR,KAAKC,aAAcsF,EAAQ3B,KAAKC,SAAU7D,KAAKqE,gBAC/E,CAEArE,KAAKuJ,eAAehE,GAEpBvF,KAAKY,UAAU6C,QAAU2F,EACzBpJ,KAAKY,UAAU8C,QAAU2F,CAC1B,EASAjK,EAAaU,UAAUyJ,eAAiB,SAAUhE,GACjD,IAAKA,EAAQ3B,OAAS2B,EAAQzB,GAAI,CACjC,MACD,CAEA9D,KAAKY,UAAUC,SAAW,GAC1B,IAAK,IAAI2I,EAAOjE,EAAQ3B,KAAKC,SAAU2F,GAAQjE,EAAQzB,GAAGD,SAAU2F,IAAQ,CAC3E,IAAK,IAAIC,EAAOlE,EAAQ3B,KAAKI,SAAUyF,GAAQlE,EAAQzB,GAAGE,SAAUyF,IAAQ,CAC3E,IAAIC,EAAW1J,KAAKQ,UAAU,aAAcR,KAAKC,aAAc,CAAC4D,SAAU2F,EAAMxF,SAAUyF,IAC1F,GAAIC,EAAU,CACbA,EAASC,UAAUC,OAAO,6BAA8BJ,GAAQjE,EAAQ3B,KAAKC,UAC7E6F,EAASC,UAAUC,OAAO,gCAAiCJ,GAAQjE,EAAQzB,GAAGD,UAC9E6F,EAASC,UAAUC,OAAO,+BAAgCH,GAAQlE,EAAQzB,GAAGE,UAC7E0F,EAASC,UAAUC,OAAO,kCAAmC,MAC7DF,EAASG,aAAa,gBAAiB,QACvC7J,KAAKY,UAAUC,SAASiJ,KAAKJ,GAG7B,GAAID,GAAQlE,EAAQ3B,KAAKI,SAAU,CAClC,MAAM+F,EAAe/J,KAAKQ,UAAU,aAAcR,KAAKC,aAAc,CAAC4D,SAAU2F,EAAMxF,SAAUyF,EAAO,IACvG,IAAIO,EAAS,8BACb,GAAID,EAAc,CACjBL,EAAWK,EACXC,EAAS,+BACThK,KAAKY,UAAUC,SAASiJ,KAAKJ,EAC9B,CACAA,EAASC,UAAUC,OAAOI,EAAQP,GAAQlE,EAAQ3B,KAAKI,SACxD,CACD,CACD,CACD,CACD,EAEA5E,EAAaU,UAAU4G,gBAAkB,SAASnB,EAAS0E,EAAYC,GACtE,IAAIC,EAAWnK,KAAKoK,cAEpB,GAAIpK,KAAKwC,QAAU,EAAG,CACrB,MAAM6H,EAAgB9E,EAAQ3B,KAAKI,SACnCuB,EAAQ3B,KAAKI,SAAWuB,EAAQzB,GAAGE,SACnCuB,EAAQzB,GAAGE,SAAWqG,CACvB,CAEA,IAAIC,EAAWtK,KAAKQ,UAAU,aAAcR,KAAKC,aAAcsF,EAAQ3B,KAAM,OAC5E2G,EAASvK,KAAKQ,UAAU,aAAcR,KAAKC,aAAcsF,EAAQzB,GAAI,OACtE,IAAI0G,EAAe,CAAE,EAAG,MAAO,EAAG,OAElC,IAAKF,EAAU,CACdE,EAAa,GAAK,KAClBF,EAAWtK,KAAKQ,UAAU,aAAcR,KAAKC,aAAcsF,EAAQ3B,KAAM,KAC1E,CAEA,IAAK2G,EAAQ,CACZC,EAAa,GAAK,KAClBD,EAASvK,KAAKQ,UAAU,aAAcR,KAAKC,aAAcsF,EAAQzB,GAAI,KACtE,CAEA,IAAI2G,EAAYH,EAAShD,wBACxBoD,EAAUH,EAAOjD,wBACjBqD,EAAa3K,KAAKC,aAAa+C,YAAYsE,wBAC5C,IAAIsD,EAAc5K,KAAKC,aAAa+C,YAAY6H,WAEhD,IAAIC,EAAY,CACfC,EAAG,CAAE,EAAGN,EAAU7C,KAAOgD,EAAa,EAAGF,EAAQ9C,KAAO8C,EAAQM,MAAQJ,GACxEK,EAAG,CAAE,EAAGR,EAAU/C,IAAMiD,EAAWjD,IAAK,EAAGgD,EAAQhD,IAAMgD,EAAQQ,OAASP,EAAWjD,MAEtF,IAAIyD,EAAW,CACdJ,EAAG,CAAE,EAAGd,EAAaQ,EAAU7C,KAAM,EAAGqC,EAAaS,EAAQ/C,OAC7DsD,EAAG,CAAE,EAAGf,EAAaO,EAAU/C,IAAK,EAAGwC,EAAaQ,EAAQjD,SAM7D,IAAI2D,EAAS,EACbA,GAAUnH,KAAKoH,IAAIF,EAASJ,EAAE,IAAM9G,KAAKoH,IAAIF,EAASJ,EAAE,IAAM,EAAI,EAClEK,GAAUnH,KAAKoH,IAAIF,EAASF,EAAE,IAAMhH,KAAKoH,IAAIF,EAASF,EAAE,IAAM,EAAI,EAElE,IAAIK,EAASrH,KAAKoH,IAAIF,EAASJ,EAAEK,EAAS,IAAKG,EAAStH,KAAKoH,IAAIF,EAASF,EAAGG,GAAU,EAAK,IAC5F,GAAIE,EAAS,IAAMC,EAAS,IAAMD,EAAS,IAAMd,EAAcY,GAAU,EAAK,GAAI,CACjF,MACD,CAEAjB,EAASqB,MAAM5D,KAAO0D,GAAU,GAAKR,EAAUC,EAAEK,EAAS,GAAK,KAAON,EAAUC,EAAE,GAAK,KACvFZ,EAASqB,MAAM9D,IAAM6D,GAAU,GAAKT,EAAUG,EAAGG,GAAU,EAAK,GAAK,KAAON,EAAUG,EAAE,GAAK,KAC7Fd,EAASqB,MAAMR,MAAQM,GAAU,GAAK,GAAKZ,EAAQ/C,MAAQ8C,EAAU7C,KAAO,KAC5EuC,EAASqB,MAAMN,OAASI,GAAU,GAAKZ,EAAQjD,OAASgD,EAAU/C,IAAM,KAAO,GAE/E,MAAM+D,EAAYH,GAAU,GAAII,EAAYH,GAAU,GACtDpB,EAASR,UAAUC,OAAO,4BAA6B6B,GACvDtB,EAASR,UAAUC,OAAO,8BAA+B8B,GACzDvB,EAASR,UAAUC,OAAO,kBAAmB6B,GAAaC,GAC1DvB,EAASR,UAAUC,OAAO,kBAAmB6B,GAAaC,IAAcN,GAAU,GAAKA,GAAU,IACjGjB,EAASR,UAAUC,OAAO,kBAAmB6B,GAAaC,IAAcN,GAAU,GAAKA,GAAU,IAEjGpL,KAAKyI,gBAAkB,CAAC,EACxB,GAAIgD,EAAW,CACdzL,KAAKyI,gBAAgBzE,SAAWoH,EAAS,EAAI7F,EAAQzB,GAAGE,SAAWuB,EAAQ3B,KAAKI,SAChFhE,KAAKyI,gBAAgB/I,KAAOT,EAAUE,GACvC,CAEA,GAAIuM,EAAW,CACd1L,KAAKyI,gBAAgB5E,SAAYuH,GAAU,EAAK,EAAI7F,EAAQzB,GAAGD,SAAW0B,EAAQ3B,KAAKC,SACvF7D,KAAKyI,gBAAgB/I,KAAOT,EAAUC,GACvC,CACD,EAEAE,EAAaU,UAAUsK,YAAc,WACpC,IAAKpK,KAAK2C,UAAW,CACpB3C,KAAK2C,UAAYO,SAASyI,cAAc,OACxC3L,KAAK2C,UAAUkH,aAAa,KAAM,UAClC7J,KAAK2C,UAAUgH,UAAUiC,IAAI,8BAE7B5L,KAAK2C,UAAUM,iBAAiB,YAAajD,KAAKsI,cAAchH,KAAKtB,OAErE,GAAIA,KAAKC,aAAa+C,YAAa,CAClChD,KAAKC,aAAa+C,YAAY6I,YAAY7L,KAAK2C,UAChD,CACD,CACA,OAAO3C,KAAK2C,SACb,EAEAvD,EAAaU,UAAUwJ,gBAAkB,WACxCtJ,KAAKY,UAAUC,SAASiL,QAAQ,SAASpC,GACxCA,EAASC,UAAU/G,OAAO,kCAAmC,6BAA8B,gCAAiC,8BAA+B,gCAC3J8G,EAASqC,gBAAgB,gBAC1B,GACA,IAAI5B,EAAWnK,KAAKoK,cACpBD,EAASqB,MAAM5D,KAAO,WACtBuC,EAASqB,MAAM9D,IAAM,UACtB,EAKAtI,EAAaU,UAAUoC,gBAAkB,WACxClC,KAAKsJ,kBAELtJ,KAAKsD,YAAc,MACnBtD,KAAKY,UAAY,CAAEC,SAAU,GAC9B,EAcAzB,EAAaU,UAAU0D,qBAAuB,SAAS4F,EAAOC,EAAK2C,GAClE,MAAMC,EAAcjM,KAAKQ,UAAU,oBAAqBR,KAAKC,cAAcE,OAC3E,MAAM+L,EAAWlM,KAAKqE,iBAAmB,EAAIrE,KAAKQ,UAAU,cAAeR,KAAKC,cAAgBD,KAAKqE,gBAErG,IAAI8H,EAAalI,KAAKC,IAAIkF,EAAMvF,SAAUwF,EAAIxF,UAAWuI,EAAanI,KAAKC,IAAIkF,EAAMpF,SAAUqF,EAAIrF,UACnG,IAAKgI,EAAa,CACjBG,EAAalI,KAAKE,IAAI+H,EAAW,EAAGC,GACpCC,EAAanI,KAAKE,IAAI8H,EAAaG,EACpC,CAEA,MAAO,CACNxI,KAAM,CAACC,SAAUI,KAAKC,IAAI,EAAGD,KAAKE,IAAIiF,EAAMvF,SAAUwF,EAAIxF,WAAYG,SAAUC,KAAKC,IAAI,EAAGD,KAAKE,IAAIiF,EAAMpF,SAAUqF,EAAIrF,YACzHF,GAAI,CAACD,SAAUsI,EAAYnI,SAAUoI,GAEvC,EAUA,SAASrG,EAAiB/E,EAAQqL,EAAUC,EAAQC,GACnD,OAAOvL,EAAOwL,SAAWH,GAAYrL,EAAOiE,UAAYqH,IAAWtL,EAAOsF,SAAWiG,GAASvL,EAAOuF,SAAWgG,EACjH,CAEA3N,EAAW6N,WAAW,CACrB,qBAAsB,CACrBC,gBAAiB,sBACjBC,WAAY,oBACZC,YAAa,eAMb7M,aAAc,SAAS8M,GACtB,OAAQA,EAAOC,aAAa,cAAgBD,EAAOE,wBAA0B,aAC9E,EAMAC,kBAAmB,SAAUH,GAC5B,OAAOA,EAAOI,aAAaC,OAAO,SAAUC,GAC3C,OAAOA,EAAQnK,WAChB,EACD,EACAoK,YAAa,SAASP,GACrB,OAAOA,EAAOQ,mBACf,EASAC,WAAY,SAAUT,EAAQU,EAAWC,GACxC,IAAIC,EAAQZ,EAAOa,UACnB,IAAIC,EAAOF,EAAMG,KAAK,SAASD,GAC9B,OAAOA,EAAKE,YAAcN,EAAU1J,QACrC,GACA,GAAI8J,EAAM,CACT,IAAIR,EAAUnN,KAAKgN,kBAAkBH,GAAQU,EAAUvJ,UACvD,IAAI8J,EAAQX,GAAWQ,EAAKI,WAAWR,EAAUvJ,UACjD,GAAI8J,EAAO,CACV,OAAOA,EAAME,IAAIrF,QAAQ3I,KAAK0M,iBAAiB,EAChD,CACD,MAAO,GAAIc,EAAQ,CAClB,GAAIC,EAAM,GAAGI,WAAaN,EAAU1J,SAAU,CAC7C8J,EAAOF,EAAM,GACb,IAAIN,EAAUnN,KAAKgN,kBAAkBH,GAAQU,EAAUvJ,UACvD,IAAI8J,EAAQX,GAAWQ,EAAKI,WAAWR,EAAUvJ,UACjD,GAAI8J,EAAO,CACV,OAAOA,EAAME,IAAIrF,QAAQ3I,KAAK0M,iBAAiB,EAChD,CACD,MAAO,GAAIe,EAAMA,EAAMtN,OAAS,GAAG0N,WAAaN,EAAU1J,SAAU,CACnE8J,EAAOF,EAAMA,EAAMtN,OAAS,GAC5B,IAAIgN,EAAUnN,KAAKgN,kBAAkBH,GAAQU,EAAUvJ,UACvD,IAAI8J,EAAQX,GAAWQ,EAAKI,WAAWR,EAAUvJ,UACjD,GAAI8J,EAAO,CACV,OAAOA,EAAME,IAAIrF,QAAQ3I,KAAK0M,iBAAiB,EAChD,CACD,CACD,CACD,EAOAuB,YAAa,SAAUpB,EAAQjE,GAC9B,MAAO,CACN/E,SAAU9E,EAAQmP,UAAUtF,EAAS,MAAMiF,WAC3C7J,SAAUhE,KAAKgN,kBAAkBH,GAAQsB,QAAQrP,EAAKsP,KAAKxF,EAAQyF,aAAa,uBAElF,EAQAC,aAAc,SAASzB,EAAQ0B,EAAaC,GAC3C,IAAIC,EAAW5B,EAAO6B,WAAW,QACjC,IAAKD,GAAYA,EAASrO,IAAI,kCAAmC,CAChE,MACD,CAEAqO,EAASE,YAAY1K,KAAKC,IAAI,EAAGqK,GAActK,KAAKC,IAAI,EAAGsK,GAAU,EAAG,KACzE,EASAI,YAAa,SAAS/B,EAAQgC,EAAYC,EAAUC,GACnD,GAAID,GAAY1I,SAAU,CACzB,IAAI4I,EAAYnC,EAAO6B,WAAW,QAAQO,wBAAwB9O,OAAS,EAC3E2O,EAAW7K,KAAKE,IAAI2K,EAAUD,EAAaE,EAAS,EAAGC,EACxD,CAEA,IAAIE,EAAY,GAChB,IAAK,IAAIC,EAAIN,EAAYM,GAAKL,EAAUK,IAAK,CAC5CD,EAAUpF,KAAK+C,EAAOuC,kBAAkBD,GACzC,CACA,OAAOD,CACR,EAQAG,WAAY,SAASxC,EAAQyC,EAAOC,EAAKC,GACxC,IAAIC,EAAkB7Q,EAAW8Q,UAAU7C,EAAQ,yCAA2CA,EAC9F,IAAI8C,EAAiB9C,EAAO+C,mBAE5B,GAAID,GAAkB,OAAQ,CAC7B,OAAO,KACR,MAAO,GAAIA,GAAkB,SAAU,CACtCL,EAAQC,EAAMC,CACf,CAEA,GAAIC,EAAgBI,qBAAsB,CACzCJ,EAAgBI,qBAAqBP,EAAOC,GAC5C,OAAO,IACR,CAGA,IAAI9B,EAAQZ,EAAOa,UAAUR,OAAO,SAASS,GAC5C,OAAOA,EAAKE,YAAcyB,GAAS3B,EAAKE,YAAc0B,CACvD,GACA9B,EAAM3B,QAAQ,SAAS6B,GACtB8B,EAAgBK,YAAYnC,EAAM,KACnC,GACA,OAAO,IACR,EACAoC,UAAW,SAASlD,EAAQ5D,EAAQ1B,GACnC,IAAImC,EAAW1J,KAAKsN,WAAWT,EAAQ5D,GACvC,IAAKS,EAAU,CACd1J,KAAKgQ,OAAOnD,EAAQtF,EAAU,MAC9B,MACD,CACAmC,EAASlE,OACV,EACAwK,OAAQ,SAASnD,EAAQtF,EAAUC,GAClC,GAAIA,EAAW,CACd,IAAIyI,EAAwBpD,EAAOqD,qBACnC,IAAIC,EAAS5I,EAAW0I,EAAwB,EAAIA,EAAwB,EAC5E,GAAIE,GAAU,GAAKA,GAAUF,EAAuB,CACnDpD,EAAOuD,mBAAmBD,GAC1B,OAAOE,QAAQC,SAChB,CACD,KAAO,CACN,IAAIC,EAAa1D,EAAO2D,sBAAsBC,yBAC9C,IAAIC,EAAczM,KAAK0M,KAAK,IAAKpJ,GAAY,GAE7CgJ,EAAWK,WAAa3M,KAAKC,IAAI,EAAGqM,EAAWK,WAAaF,GAC5D,OAAOL,QAAQC,SAChB,CACA,OAAO,KACR,IAEClR,GAEH,OAAOA,CACR"}